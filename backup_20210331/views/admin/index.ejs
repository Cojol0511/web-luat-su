<!DOCTYPE html>
<html lang="en">

<head>
	<title>Admin | Dashboard</title>
    <%- include('partials/head.ejs'); -%>
</head>

<body>
	<%- include('partials/nav.ejs'); -%>
	<div hidden id="number-list">
		<span hidden id="guest-number"></span>
		<span hidden id="lawyer-number"></span>
		<span hidden id="page-number"></span>
		<span hidden id="post-number"></span>
	</div>


	<!-- Breadscrumb -->
	<%- include('partials/breadcrumb.ejs', { is_dashboard: true, site_name: 'Dashboard' , edit_flag: false }); -%>
	
	<section id="main">
		<div class="container">
            <!-- Thống kê -->
			<div class="row">
				<div class="col-md-12">
                    <!-- Website Overview -->
                    <div class="panel panel-default">
                        <div class="panel-heading main-color-bg">
                            <h3 class="panel-title">Thống kê</h3>
                        </div>
                        <div class="panel-body">
                            <!-- Guest Number -->
                            <div class="col-md-2">
                                <div class="well dash-box">
                                    <h2>
                                        <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
                                        <%= guest_list==null ? 0 : guest_list.length; %>
                                    </h2>
                                    <h4>Khách hàng</h4>
                                </div>
                            </div>
                            <!-- Page Number -->
                            <div class="col-md-2">
                                <div class="well dash-box">
                                    <h2>
                                        <span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span>
                                        <%= page_list==null ? 0 : page_list.length; %>
                                    </h2>
                                    <h4>Trang</h4>
                                </div>
                            </div>
                            <!-- Post Number -->
                            <div class="col-md-2">
                                <div class="well dash-box">
                                    <h2>
                                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                                        <%= post_list==null ? 0 : post_list.length; %>
                                    </h2>
                                    <h4>Bài viết</h4>
                                </div>
                            </div>
                            <!-- Lawyer Number -->
                            <div class="col-md-2">
                                <div class="well dash-box">
                                    <h2>
                                        <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
                                        <%= lawyer_list==null ? 0 : lawyer_list.length;%>
                                    </h2>
                                    <h4>Luật sư</h4>
                                </div>
                            </div>

                            <!-- Lawyer Number -->
                            <div class="col-md-2">
                                <div class="well dash-box">
                                    <h2>
                                        <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
                                        <%= admin_list==null ? 0 : admin_list.length;%>
                                    </h2>
                                    <h4>Admin</h4>
                                </div>
                            </div>

                            <!-- Lawyer Number -->
                            <div class="col-md-2">
                                <div class="well dash-box">
                                    <h2>
                                        <span class="glyphicon glyphicon-stats" aria-hidden="true"></span>
                                        0
                                    </h2>
                                    <h4>Giao dịch</h4>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
			</div>

            <!-- ... gần đây -->
			<div class="row">
				<div class="col-md-7">
					<!-- Latest Users -->
					<div class="panel panel-default panel-table">
						<div class="panel-heading main-color-bg">
							<div class="row">
								<div class="col col-xs-6">
								  <h3 class="panel-title">Giao dịch gần đây</h3>
								</div>
								<div class="col col-xs-6 text-right">
								  <a href="/admin/transactions" class="btn btn-sm btn-primary btn-create">Xem tất cả</a>
								</div>
							  </div>
						</div>
						<div class="panel-body">
							<table class="table table-striped table-hover table-list">
								<thead>
									<tr>
										<th class="text-center" scope="col">ID</th>
										<th class="text-center" scope="col">Luật sư</th>
										<th class="text-center" scope="col">Khách hàng</th>
										<th class="text-center" scope="col">Trạng thái</th>
										<th class="text-center" scope="col">Ngày giao dịch</th>
									</tr>
								</thead>
								<tbody>
								<% for(var i = 0; i < 3; i++) {
									var transaction = transaction_list[i]; %>
									<tr>
										<th class="text-center">
											<a href='http://api.veneris.bitiland.com/api/client/<%= transaction.TransactionID %>''><%= transaction.TransactionID %></a>
										</th>
										<td class="text-center"><%= transaction.Client %></td>
										<td class="text-center"><%= transaction.Lawyer %></td>
										<td class="text-center"><%= transaction.Status %></td>
										<td class="text-center"><%= new Date(transaction.CreatedDateTime).toLocaleDateString("en-US"); %></td>
									</tr>
								<% }%>
								</tbody>
							</table>
						</div>
					</div>

					<div class="panel panel-default panel-table">
						<div class="panel-heading main-color-bg">
							<div class="row">
								<div class="col col-xs-6">
								  <h3 class="panel-title">Khách hàng gần đây</h3>
								</div>
								<div class="col col-xs-6 text-right">
								  <a href="/admin/guests" class="btn btn-sm btn-primary btn-create">Xem tất cả</a>
								</div>
							  </div>
						</div>
						<div class="panel-body">
							<table class="table table-striped table-hover table-list">
								<thead>
									<tr>
										<!-- <th class="text-center" scope="col">ID</th> -->
										<th class="text-center" scope="col">Họ và tên</th>
										<th class="text-center" scope="col">Địa chỉ</th>
										<th class="text-center" scope="col">Hoạt động</th>
									</tr>
								</thead>
								<tbody>
								<% for(var i = guest_list.length - 1; i > guest_list.length - 4; i--) {
									var guest = guest_list[i]; %>
									<tr>
										<!--
										<th class="text-center">
											<a href='http://api.veneris.bitiland.com/api/client/<%= guest.ClientID %>''><%= guest.ClientID %></a>
										</th>
									-->
										<td class="text-center"><%= guest.FirstName %> <%= guest.LastName %></td>
										<td class="text-center"><%= guest.Province %></td>
										<td class="text-center"><%= new Date(guest.UpdatedDateTime).toLocaleDateString("en-US"); %></td>
									</tr>
								<% }%>
								</tbody>
							</table>
						</div>
					</div>


					<div class="panel panel-default panel-table">
						<div class="panel-heading main-color-bg">
							<div class="row">
								<div class="col col-xs-6">
								  <h3 class="panel-title">Luật sư gần đây</h3>
								</div>
								<div class="col col-xs-6 text-right">
								  <a href="/admin/lawyers" class="btn btn-sm btn-primary btn-create">Xem tất cả</a>
								</div>
							  </div>
						</div>
						<div class="panel-body">
							<table class="table table-striped table-hover table-list">
								<thead class="thead-dark">
									<tr>
										<!-- <th class="text-center" scope="col">ID</th> -->
										<th class="text-center" scope="col">Họ và tên</th>
										<th class="text-center" scope="col">Lĩnh vực</th>
										<th class="text-center" scope="col">Đánh giá</th>
										<th class="text-center" scope="col">Hoạt động</th>
									</tr>
								</thead>
								<tbody>
								<% for(var i = lawyer_list.length - 1; i > lawyer_list.length - 4; i--) {
									var lawyer = lawyer_list[i]; %>
								<tr>
									<td class="text-center">
										<%= lawyer.FirstName %> <%= lawyer.LastName %>
									</td>
									<td class="text-center">
										<%= lawyer.Specialize %>
									</td>
									<td class="text-center">
										<%= lawyer.Rating %>
									</td>
									<td class="text-center">
										<%= new Date(lawyer.UpdatedDateTime).toLocaleDateString("en-US") %>
									</td>
								</tr>
								<% }%>
								</tbody>
							</table>
						</div>
					</div>

					<div class="panel panel-default panel-table">
						<div class="panel-heading main-color-bg">
							<div class="row">
								<div class="col col-xs-6">
								  <h3 class="panel-title">Admin gần đây</h3>
								</div>
								<div class="col col-xs-6 text-right">
								  <a href="/admin/admins" class="btn btn-sm btn-primary btn-create">Xem tất cả</a>
								</div>
							  </div>
						</div>
						<div class="panel-body">
							<table class="table table-striped table-hover table-list">
								<thead class="thead-dark">
									<tr>
										<!-- <th class="text-center" scope="col">ID</th> --> 
										<th class="text-center" scope="col">Họ và tên</th>
										<th class="text-center" scope="col">Email</th>
										<th class="text-center" scope="col">Hoạt động</th>
									</tr>
								</thead>
								<tbody>
								<% for(var i = admin_list.length - 1; i > admin_list.length - 4; i--) {
									var admin = admin_list[i]; %>
								<tr>
									<!--
									<th class="text-center">
										<%= admin.UserID %>
									</th>
								-->
									<td class="text-center">
										<%= admin.FirstName %> <%= admin.LastName %>
									</td>
									<td class="text-center">
										<%= admin.Email %>
									</td>
									<td class="text-center">
										<%= new Date(admin.UpdatedDateTime).toLocaleDateString("en-US") %>
									</td>
								</tr>
								<% }%>
								</tbody>
							</table>
						</div>
					</div>
				</div>

                <!-- Hoạt động gần đây -->
				<div class="col-md-5">
					<div class="panel panel-default">
						<div class="panel-heading main-color-bg">
							<h3 class="panel-title">Hoạt động gần đây</h3>
						</div>
						<div class="panel-body">
							<table class="table table-striped table-hover">
								<thead>
									<tr>
										<th scope="col">Thời gian</th>
										<th scope="col">Hoạt động</th>
										<th scope="col">Thông tin</th>
									</tr>
								</thead>
								<% for(var i = 0; i < 3; i++) {
									var activity = activity_list[i]; %>
									<tr>
										<th>
											<%= new Date(activity.CreatedDateTime).toLocaleTimeString("en-US") %>
										</th>
										<td><%= activity.ActivityName %></td>
										<td><%= activity.ActivityDescription %></td>
									</tr>
								<% }%>
							</table>
						</div>
					</div>

				</div>
			</div>
		</div>
	</section>

	<%- include('partials/footer.ejs'); -%>

	
	<!-- Bootstrap core JavaScript -->
    <script src="http://cdn.ckeditor.com/4.6.2/standard/ckeditor.js"></script>
    <script>
        CKEDITOR.replace( 'editor1' );
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="/admin/js/bootstrap.min.js"></script>
	<script src="/admin/js/index.js"></script>

</body>

</html>